<body>

    <div class="auth-container">
        <form [formGroup]="form" (ngSubmit)="onSubmitForm()">
            <h2>Register Account</h2>

            <input type="text" id="first_name" placeholder="First Name" formControlName="first_name" required>
            <div *ngIf="form.controls.first_name?.touched && form.controls.first_name?.invalid">
                <p *ngIf="form.controls.first_name.errors?.['required']">
                    First name is required!
                </p>
            </div>

            <input type="text" id="last_name" placeholder="Last Name" formControlName="last_name" required>
            <div *ngIf="form.controls.last_name?.touched && form.controls.last_name?.invalid">
                <p *ngIf="form.controls.last_name.errors?.['required']">
                    Last name is required!
                </p>
            </div>

            <input type="text" id="middle_name" placeholder="Middle Name" formControlName="middle_name">

            <input type="email" id="email" placeholder="Email Address" formControlName="email" required>
            <div *ngIf="form.controls.email?.touched && form.controls.email?.invalid">
                <p *ngIf="form.controls.email.errors?.['required']">
                    Email is required!
                </p>
                <p *ngIf="form.controls.email.errors?.['email']">
                    Email is invalid!
                </p>
            </div>

            <input type="password" id="password" placeholder="Password" formControlName="password" required>
            <div *ngIf="form.controls.password?.touched && form.controls.password?.invalid">
                <p *ngIf="form.controls.password.errors?.['required']">
                    Password is required!
                </p>
                <p *ngIf="form.controls.password.errors?.['minlength']">
                    Password must be at least 4 characters!
                </p>
            </div>

            <input type="text" id="phone_number" placeholder="Phone Number" formControlName="phone_number">

            <label for="roles">Select Role</label>
            <select id="roles" formControlName="roles" required>
                <option value="" disabled selected>Select Role</option>
                <option value="superuser">superuser</option>
                <option value="editor">editor</option>
                <option value="viewer">viewer</option>
                <option value="member">Member</option>
            </select>
            <div *ngIf="form.controls.roles?.touched && form.controls.roles?.invalid">
                <p *ngIf="form.controls.roles.errors?.['required']">
                    Role is required!
                </p>
                <p *ngIf="form.controls.roles.errors?.['pattern']">
                    Invalid role selected!
                </p>
            </div>

            <label for="deanery">Select Deanery</label>
            <select id="deanery" formControlName="deanery" required>
                <option value="" disabled selected>Select Deanery</option>
                <option *ngFor="let deanery of deaneries" [value]="deanery.deanery">{{ deanery.deanery }}</option>
            </select>
            <div *ngIf="form.controls.deanery?.touched && form.controls.deanery?.invalid">
                <p *ngIf="form.controls.deanery.errors?.['required']">
                    Deanery is required!
                </p>
            </div>

            <label>Select Parish</label>
            <select id="parish_id" formControlName="parish_id" required>
                <option value="" disabled selected>Select Parish</option>
                <option *ngFor="let parish of parishes" [value]="parish.parish_id">{{ parish.parish_name }}</option>
            </select>
            <div *ngIf="form.controls.parish_id?.touched && form.controls.parish_id?.invalid">
                <p *ngIf="form.controls.parish_id.errors?.['required']">
                    Parish is required!
                </p>
            </div>

            <p *ngIf="successMessage">{{ successMessage }}</p>
            <p *ngIf="errorMessage">{{ errorMessage }}</p>
            <p *ngIf="registerMessage">{{ registerMessage }}</p>

            <button type="submit" [disabled]="form.invalid">Register</button>
            <!-- <p *ngIf="!form.valid && errorMessage" class="error-message">{{ errorMessage }}</p> -->
            <p class="login-link">Already have an account? <span><a routerLink="/login">Login</a></span></p>
        </form>
    </div>

</body>